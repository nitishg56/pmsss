<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Government of Chhattisgarh State Scholarship Portal 2024-25</title>
    <link rel="stylesheet" href="/static/css/student_details.css">
</head>
<body>

    <!-- Header Section -->
    <header class="header">
        <div class="header-container">
            <!-- Logo and Title -->
            <div class="left-section">
                <img src="/static/images/AICTE_logo.png" alt="Logo" class="logo">
                <div class="department-title">
                   <b>
                    <h1>Special Scholarship Scheme for J&K and Ladakh (PM-USPY)</h1>
                   </b>
                </div>
            </div>
    
            <!-- Profile Picture and Language Button -->
            <div id="google_translate_element"></div>
        <script type="text/javascript">
            function googleTranslateElementInit() {
                new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
            }
        </script>
        <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
        </div>
        </div>
    
        <!-- Navigation Bar -->
        <nav class="navbar">
            <ul class="nav-links">
                <li><a href="/templates/index.html">Home</a></li>
                <li><a href="/templates/Student Track Your Application.html">Application Status</a></li>
                <li><a href="/templates/Notification.html">Notification</a></li>
                <li><a href="/static/pdf/PMSSS-Student-Manual.pdf">How To Apply</a></li>
                <li><a href="/templates/Feedback And Grievance.html">Feedback And Grievance</a></li>
                <li><a href="/templates/FAQ's.html">FAQ</a></li>
                <li><a href="/templates/Contact Us.html">Contact Us</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Contact Details Form -->
        <form id="contactForm">
            <h2>Contact Details</h2>

            <section>
                <h3>Contact Information</h3>
                <div class="form-group">
                    <div class="form-item">
                        <label for="address">Address:</label>
                        <textarea id="address" name="address" rows="4" required></textarea>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-item">
                        <label for="district">District:</label>
                        <input type="text" id="district" name="district" required>
                    </div>
                    <div class="form-item">
                        <label for="state">State:</label>
                        <input type="text" id="state" name="state" required>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-item">
                        <label for="pincode">Pin Code:</label>
                        <input type="text" id="pincode" name="pincode" required>
                    </div>
                    <div class="form-item">
                        <label for="mobileNumber">Mobile Number:</label>
                        <input type="tel" id="mobileNumber" name="mobileNumber" required>
                    </div>
                </div>

                <div class="form-group">
                    <div class="form-item">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                </div>

            </section>

            <!-- Submit Button -->
            <button type="submit" id="submit">Submit</button>

        </form>
        <script>
            // Retrieve the Student ID from URL query parameters
            const urlParams = new URLSearchParams(window.location.search);
            const studentID = urlParams.get('studentID');

            // Display stored data on the form (if available)
            const students = JSON.parse(localStorage.getItem('students')) || [];
            const studentData = students.find(student => student.studentID === studentID);

            if (studentData) {
                document.getElementById('address').value = studentData.address || '';
                document.getElementById('district').value = studentData.district || '';
                document.getElementById('state').value = studentData.state || '';
                document.getElementById('pincode').value = studentData.pincode || '';
                document.getElementById('mobileNumber').value = studentData.mobileNumber || '';
                document.getElementById('email').value = studentData.email || '';
            }

            // Save additional details to localStorage
            document.getElementById('contactForm').addEventListener('submit', function(event) {
                event.preventDefault();

                const updatedData = {
                    ...studentData,
                    address: document.getElementById('address').value,
                    district: document.getElementById('district').value,
                    state: document.getElementById('state').value,
                    pincode: document.getElementById('pincode').value,
                    mobileNumber: document.getElementById('mobileNumber').value,
                    email: document.getElementById('email').value
                };

                const updatedStudents = students.map(student => 
                    student.studentID === studentID ? updatedData : student
                );

                localStorage.setItem('students', JSON.stringify(updatedStudents));

                alert("Contact details saved successfully!");
                window.location.href = "/templates/st.html";  // Redirect to the next page
            });  
        </script>

    </main>

     <!-- Footer Section -->
     <footer class="footer">
        <div class="footer-content">
            <!-- Logos -->
            <div class="footer-logos">
                <img src="/static/images/meity_logo.png" alt="MeitY Logo">
                <br>
                <br>
            <img src="/static/images/nic_logo.png" alt="NIC Logo">
            <br>
            <br>
            <img src="/static/images/Digital logo.png" alt="MyGov Logo">
            <br>
            <br>
            <img src="/static/images/DBTBharat_logo.png" alt="DBT Bharat Logo">
            <br>
            <br>
            <img src="/static/images/data.png" alt="India.gov.in Logo">
            <br>
            <br>
            </div>
             <b>
            <!-- Navigation Links -->
            <div class="footer-links">
                <a href="/templates/copyright.html">Copyright Policy</a>
                <span>|</span>
                <a href="/templates/Privacy Policy.html">Privacy Policy</a>
                <span>|</span>
                <a href="/templates/Terms Conditions.html">Terms and Conditions</a>
                <span>|</span>
                <a href="/templates/Disclaimer.html">Disclaimer</a>
                <span>|</span>
                <a href="/templates/Hyperlink.html">Hyperlink</a>
                <span>|</span>
                <a href="/templates/Site Map.html">Site Map</a>
            </div>
        </div>
        <br>

        <!-- Update Information -->
        <div class="footer-update">
            Last update on 10 September 2024
        </div>
    </footer>

</body>
</html>
